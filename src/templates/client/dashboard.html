{% extends "base.html" %}

{% block title %} FitPulse | Admin Dashboard {% endblock title %}

{% block body %}
    <h2 class="text-3xl font-bold mb-6 text-center text-indigo-600">Client Dashboard</h2>
    
    <!-- Grid layout for splitting the page into two halves -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

        <!-- Left section for the table displaying enrolled classes -->
        <div class="lg:col-span-1">
            <!-- Section for Enrolled Classes -->
            <div class="bg-white shadow rounded-lg p-6 mb-8">
                <h3 class="text-2xl font-bold text-indigo-600 mb-4">Enrolled Classes</h3>
                {% if enrolled_classes %}
                    <div class="overflow-x-auto">
                        <table class="min-w-full table-auto bg-white border border-gray-200 rounded-lg shadow-lg">
                            <thead class="bg-indigo-600 text-white">
                                <tr>
                                    <th class="px-6 py-3 text-left text-sm font-medium">Class Title</th>
                                    <th class="px-6 py-3 text-left text-sm font-medium">Duration (min)</th>
                                    <th class="px-6 py-3 text-left text-sm font-medium">Cost</th>
                                    <th class="px-6 py-3 text-left text-sm font-medium">Trainer</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for enrollment in enrolled_classes %}
                                    <tr class="border-b">
                                        <td class="px-6 py-3 text-sm text-gray-800">{{ enrollment.training_class.title }}</td>
                                        <td class="px-6 py-3 text-sm text-gray-800">{{ enrollment.training_class.duration }}</td>
                                        <td class="px-6 py-3 text-sm text-gray-800">${{ enrollment.training_class.cost }}</td>
                                        <td class="px-6 py-3 text-sm text-gray-800">
                                            {{ enrollment.trainer.first_name }} {{ enrollment.trainer.last_name }}
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% else %}
                    <p class="text-gray-500">You are not enrolled in any classes yet.</p>
                {% endif %}
            </div>
        </div>

        <!-- Right section for displaying points in a card -->
        <div class="lg:col-span-1">
            <!-- Section for User Points -->
            <div class="bg-white shadow rounded-lg p-6">
                <h3 class="text-2xl font-bold text-indigo-600 mb-4">Your Points</h3>
                <div class="bg-indigo-50 border-l-4 border-indigo-600 p-4">
                    <p class="text-lg font-medium text-indigo-800">You currently have:</p>
                    <p class="text-3xl font-bold text-indigo-600">{{ current_user.points }} points</p>
                </div>
            </div>
        </div>
        
    </div>

{% endblock body %}
